<html>
<head>
<title>Drone control via rosbridge</title>
</head>
<body>

<script type="text/javascript">

    function OnButtonDown (button,keycode) {
        button.style.color = "#ff0000";
        document.getElementById("countme").innerHTML = button.value+" "+keycode;
    }
    function OnButtonUp (button,keycode) {
        button.style.color = "#000000";
        document.getElementById("countme").innerHTML = "stop"+" "+keycode;
    }

    function addlisteners(button,keycode) {
        if (button.addEventListener) {  // all browsers except IE before version 9
            button.addEventListener ("mousedown", function () {OnButtonDown (button,keycode)}, false);
            button.addEventListener ("mouseup", function () {OnButtonUp (button,0)}, false);
        }
    }


    window.onload = function() {
        /*
        btnup = document.getElementById("up");

        countme_text = document.getElementById("countme");

        //var btnup_action = function() { countme_text.innerHTML = 'going up'; }
        btnup_action = function() { alert('alkdjfsad'); }

        holdit(btnup, btnup_action, 1000, 2);    
        //holdit(document.getElementById("up"), function () {document.getElementById("countme").innerHTML = 'going up'; }, 1000, 2);    
        */

        /*
        var button = document.getElementById ("up");
        if (button.addEventListener) {  // all browsers except IE before version 9
            button.addEventListener ("mousedown", function () {OnButtonDown (button)}, false);
            button.addEventListener ("mouseup", function () {OnButtonUp (button)}, false);
        }
        */
        var button_ascend = document.getElementById ("ascend");
        addlisteners(button_ascend,0);
        var button_descend = document.getElementById ("descend");
        addlisteners(button_descend,0);
        var button_forward = document.getElementById ("forward");
        addlisteners(button_forward,38);
        var button_backward = document.getElementById ("backward");
        addlisteners(button_backward,40);
        var button_right = document.getElementById ("right");
        addlisteners(button_right,0);
        var button_left = document.getElementById ("left");
        addlisteners(button_left,0);
        var button_spinright = document.getElementById ("spinright");
        addlisteners(button_spinright,37);
        var button_spinleft = document.getElementById ("spinleft");
        addlisteners(button_spinleft,39);
        var button_takeoff = document.getElementById ("takeoff");
        addlisteners(button_takeoff,13);
        var button_land = document.getElementById ("land");
        addlisteners(button_land,32);
    }

</script>

<h1>Drone controller</h1>

Drive your drone by pressing the arrow keys. Take off with the enter key.  Land with the space key.

<p>

<table border="0">
<tr>
<td>
<input type="button" id="takeoff" value="take off" style="width:200px;height:100px;font-size:30" >
</td>
<td>
<input type="button" id="land" value="land" style="width:200px;height:100px;font-size:30" >
</td>
<th colspan="2">
<div id="countme" style="font-size:30;text-align:center">test baby, test baby, 1, 2, 3, 4 </div>
</th>
</tr>
</table>
<p>
<table border="0">
<tr>
<td>
<input type="button" id="spinleft" value="spin left" style="width:200px;height:100px;font-size:30" >
</td>
<td>
<input type="button" id="forward" value="forward" style="width:200px;height:100px;font-size:30" >
</td>
<td>
<input type="button" id="spinright" value="spin right" style="width:200px;height:100px;font-size:30" >...............
</td>
<td>
<input type="button" id="ascend" value="ascend" style="width:200px;height:100px;font-size:30" >
</td>
</tr>
<tr>
<td>
<input type="button" id="left" value="left" style="width:200px;height:100px;font-size:30" >
</td>
<td>
<input type="button" id="backward" value="backward" style="width:200px;height:100px;font-size:30" >
</td>
<td>
<input type="button" id="right" value="right" style="width:200px;height:100px;font-size:30" >
</td>
<td>
<input type="button" id="descend" value="descend" style="width:200px;height:100px;font-size:30" >
</td>
</tr>
</table>
<p>

<p>
</body>
</html>
